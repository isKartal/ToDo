{"ast":null,"code":"var _jsxFileName = \"/media/arma/DATA.ext4/armaDOCs/arma/Desktop/ismail/fullstack-todo/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Modal from './components/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [todoList, setTodoList] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [activeItem, setActiveItem] = useState({\n    title: \"\",\n    description: \"\",\n    completed: false\n  });\n  useEffect(() => {\n    refreshList();\n  }, []);\n  const refreshList = () => {\n    axios.get(\"http://localhost:8000/api/todos/\").then(res => setTodoList(res.data)).catch(err => console.log(err));\n  };\n  const toggle = () => {\n    setModal(!modal);\n  };\n\n  // ----- YENİ VE GÜNCELLENMİŞ FONKSİYONLAR -----\n\n  // Kaydet butonuna basılınca çalışır\n  const handleSubmit = item => {\n    toggle(); // Modalı kapat\n\n    // EĞER item.id VARSA -> GÜNCELLEME (PUT) YAP\n    if (item.id) {\n      axios.put(`http://localhost:8000/api/todos/${item.id}/`, item).then(res => refreshList());\n      return;\n    }\n\n    // EĞER item.id YOKSA -> YENİ EKLE (POST) YAP\n    axios.post(\"http://localhost:8000/api/todos/\", item).then(res => refreshList());\n  };\n\n  // Düzenle butonuna basılınca çalışır\n  const editItem = item => {\n    setActiveItem(item); // Tıklanan görevi aktif yap\n    setModal(true); // Modalı aç\n  };\n\n  // Sil butonuna basılınca çalışır\n  const handleDelete = item => {\n    if (window.confirm(\"Bu görevi silmek istediğine emin misin?\")) {\n      axios.delete(`http://localhost:8000/api/todos/${item.id}/`).then(res => refreshList());\n    }\n  };\n  const createItem = () => {\n    // category: \"diger\" varsayılan olarak eklendi\n    const item = {\n      title: \"\",\n      description: \"\",\n      completed: false,\n      category: \"diger\"\n    };\n    setActiveItem(item);\n    setModal(true);\n  };\n\n  // ----------------------------------------------\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center mb-4\",\n      children: \"Yap\\u0131lacaklar Listesi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: createItem,\n        children: \"+ Yeni G\\xF6rev Ekle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: todoList.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            title: item.description,\n            className: item.completed ? \"text-decoration-line-through text-muted\" : \"\",\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-warning text-dark ms-2\",\n            style: {\n              marginLeft: \"10px\",\n              fontSize: \"0.8em\"\n            },\n            children: item.category ? item.category.toUpperCase() : \"DİĞER\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary mr-2\",\n            onClick: () => editItem(item),\n            style: {\n              marginRight: \"10px\"\n            },\n            children: \"D\\xFCzenle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => handleDelete(item),\n            children: \"Sil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), modal ? /*#__PURE__*/_jsxDEV(Modal, {\n      activeItem: activeItem,\n      toggle: toggle,\n      onSave: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"j5HHk7eTkVNeJXB0dcuA+HoZsu4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Modal","jsxDEV","_jsxDEV","App","_s","todoList","setTodoList","modal","setModal","activeItem","setActiveItem","title","description","completed","refreshList","get","then","res","data","catch","err","console","log","toggle","handleSubmit","item","id","put","post","editItem","handleDelete","window","confirm","delete","createItem","category","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","style","marginLeft","fontSize","toUpperCase","marginRight","onSave","_c","$RefreshReg$"],"sources":["/media/arma/DATA.ext4/armaDOCs/arma/Desktop/ismail/fullstack-todo/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Modal from './components/Modal';\n\nfunction App() {\n  const [todoList, setTodoList] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [activeItem, setActiveItem] = useState({\n    title: \"\",\n    description: \"\",\n    completed: false,\n  });\n\n  useEffect(() => {\n    refreshList();\n  }, []);\n\n  const refreshList = () => {\n    axios\n      .get(\"http://localhost:8000/api/todos/\")\n      .then((res) => setTodoList(res.data))\n      .catch((err) => console.log(err));\n  };\n\n  const toggle = () => {\n    setModal(!modal);\n  };\n\n  // ----- YENİ VE GÜNCELLENMİŞ FONKSİYONLAR -----\n\n  // Kaydet butonuna basılınca çalışır\n  const handleSubmit = (item) => {\n    toggle(); // Modalı kapat\n\n    // EĞER item.id VARSA -> GÜNCELLEME (PUT) YAP\n    if (item.id) {\n      axios\n        .put(`http://localhost:8000/api/todos/${item.id}/`, item)\n        .then((res) => refreshList());\n      return;\n    }\n\n    // EĞER item.id YOKSA -> YENİ EKLE (POST) YAP\n    axios\n      .post(\"http://localhost:8000/api/todos/\", item)\n      .then((res) => refreshList());\n  };\n\n  // Düzenle butonuna basılınca çalışır\n  const editItem = (item) => {\n    setActiveItem(item); // Tıklanan görevi aktif yap\n    setModal(true);      // Modalı aç\n  };\n\n  // Sil butonuna basılınca çalışır\n  const handleDelete = (item) => {\n    if (window.confirm(\"Bu görevi silmek istediğine emin misin?\")) {\n        axios\n        .delete(`http://localhost:8000/api/todos/${item.id}/`)\n        .then((res) => refreshList());\n    }\n  };\n\n  const createItem = () => {\n    // category: \"diger\" varsayılan olarak eklendi\n    const item = { title: \"\", description: \"\", completed: false, category: \"diger\" };\n    setActiveItem(item);\n    setModal(true);\n  };\n\n  // ----------------------------------------------\n\n  return (\n    <div className=\"container mt-5\">\n      <h1 className=\"text-center mb-4\">Yapılacaklar Listesi</h1>\n      \n      <div className=\"mb-4\">\n        <button className=\"btn btn-primary\" onClick={createItem}>\n          + Yeni Görev Ekle\n        </button>\n      </div>\n\n      <ul className=\"list-group\">\n        {todoList.map((item) => (\n          <li\n            key={item.id}\n            className=\"list-group-item d-flex justify-content-between align-items-center\"\n          >\n            {/* SOL TARAF: Başlık ve Kategori */}\n            <div className=\"d-flex align-items-center\">\n              <span\n                title={item.description}\n                className={item.completed ? \"text-decoration-line-through text-muted\" : \"\"}\n              >\n                {item.title}\n              </span>\n              \n              {/* KATEGORİ ROZETİ */}\n              <span className=\"badge bg-warning text-dark ms-2\" style={{marginLeft: \"10px\", fontSize: \"0.8em\"}}>\n                 {/* Veritabanında 'is' yazar ama biz ekranda 'İş' göstermek isteyebiliriz, şimdilik direkt yazdıralım */}\n                 {item.category ? item.category.toUpperCase() : \"DİĞER\"}\n              </span>\n            </div>\n\n            {/* SAĞ TARAF: Butonlar */}\n            <span>\n              <button\n                className=\"btn btn-secondary mr-2\"\n                onClick={() => editItem(item)}\n                style={{ marginRight: \"10px\" }}\n              >\n                Düzenle\n              </button>\n              <button\n                className=\"btn btn-danger\"\n                onClick={() => handleDelete(item)}\n              >\n                Sil\n              </button>\n            </span>\n          </li>\n        ))}\n      </ul>\n\n      {modal ? (\n        <Modal\n          activeItem={activeItem}\n          toggle={toggle}\n          onSave={handleSubmit}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}